
## ğŸ“Œ ê°œìš”


- **`í”„ë¡œì íŠ¸ ëª…` :** I Pill U ë¦¬íŒ©í† ë§
- **`í”„ë¡œì íŠ¸ ê¸°ê°„` :** 2023.08.13. - 2023.10.20.
- **`í•œ ì¤„ ì†Œê°œ` :** APP Router ê¸°ë°˜ Server Action, RSCì„ í™œìš©í•œ Serverless ì–´í”Œë¦¬ì¼€ì´ì…˜
- **`ë°°í¬ ì£¼ì†Œ` :** [I Pill U í™ˆí˜ì´ì§€](https://seb42-main-013-refactored.vercel.app/)
- **`í…ŒìŠ¤íŠ¸ ê³„ì •` :**  `ğŸ”’ ID`  hetidom546@weirby.com `ğŸ”‘ Password`  qwer1234!
  
<br/>   

## ğŸ› ï¸ ê¸°ìˆ  ìŠ¤íƒ
<p>
<img src="https://img.shields.io/badge/Next.Js-000000?style=flat&logo=Git&logoColor=white">  <img src="https://img.shields.io/badge/Typescript-3178C6?style=flat&logo=Typescript&logoColor=white"> <img src="https://img.shields.io/badge/Firestore-F2AC3C?style=flat&logo=Firebase&logoColor=black"> <img src="https://img.shields.io/badge/Firebase-FFCA28?style=flat&logo=Firebase&logoColor=black"> <img src="https://img.shields.io/badge/Tailwindcss-06B6D4?style=flat&logo=Tailwindcss&logoColor=white"> <img src="https://img.shields.io/badge/Mui-007FFF?style=flat&logo=Mui&logoColor=white"> 
 
</p>

<br/>  


## ğŸ“‚ í´ë” êµ¬ì¡°

```
ğŸ Â app
â”œâ”€â”€ ğŸ“‚ (api)
â”‚   â”œâ”€â”€ sessionlogin â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ ğŸª ì„¸ì…˜ ì¿ í‚¤ ìƒì„± API
â”‚   â””â”€â”€ csrf â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ ğŸªª CSRFí† í° ë°œí–‰ API
â”œâ”€â”€ ğŸ“‚Â (auth)
â”‚   â”œâ”€â”€ ğŸ“ƒÂ login  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ ğŸ‘¤ ë¡œê·¸ì¸ í˜ì´ì§€
â”‚   â”œâ”€â”€ ğŸ“ƒÂ signip â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ ğŸ‘¤ íšŒì›ê°€ì… í˜ì´ì§€
â”‚   â””â”€â”€ layout.tsx
â”œâ”€â”€ ğŸ“‚ (home)
â”‚   â”œâ”€â”€ ğŸ“ƒ @intro â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ ğŸ  ë©”ì¸í˜ì´ì§€ 1 (Parallel Routes)
â”‚   â”œâ”€â”€ ğŸ“ƒ @suggest â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ ğŸ  ë©”ì¸í˜ì´ì§€ 2 (Parallel Routes)
â”‚   â”‚   â”œâ”€â”€ ğŸ“ƒ create â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ ğŸ“ ë°ì´í„° ìƒì„±/ìˆ˜ì • í˜ì´ì§€
â”‚   â”‚   â”œâ”€â”€ ğŸ“ƒ mypage â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ ğŸ‘¤ ìœ ì € ì •ë³´ ì¡°íšŒ/ìˆ˜ì • í˜ì´ì§€
â”‚   â”‚   â”œâ”€â”€ ğŸ“ƒ search â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ ğŸ” ì˜ì–‘ì œ ê²€ìƒ‰ í˜ì´ì§€ (ë„¤ì´ë²„ ì‡¼í•‘)
â”‚   â”‚   â””â”€â”€ ğŸ“ƒ summary â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ ğŸ—‚ï¸ ìœ ì € ë°ì´í„° ì¡°íšŒ/ì‚­ì œ í˜ì´ì§€
â”‚   â””â”€â”€ layout.tsx
â”œâ”€â”€ ğŸ“‚ compoenents â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ ğŸ“¦ ëª¨ë“  í˜ì´ì§€ì—ì„œ ê³µí†µìœ¼ë¡œ ì‚¬ìš©ë˜ëŠ” ì»´í¬ë„ŒíŠ¸
â””â”€â”€ layout.tsx
ğŸ“‚ context â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ ğŸ” Auth Context
ğŸ“‚ firebase â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ ğŸ” Firebase setup
ğŸ“‚ lib â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ ğŸ› ï¸ ì„œë²„ì•¡ì…˜, helper
ğŸ“‚ mui â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ ğŸ¨ MUI setup
ğŸ“‚ zodSchema â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ ğŸ” ìœ íš¨ì„± ê²€ì‚¬ ìŠ¤í‚¤ë§ˆ
middleware.ts
types.ts
```

<br/>   


## ğŸ“º ì‹œì—° ì˜ìƒ
|êµ¬ê¸€ íšŒì›ê°€ì…|êµ¬ê¸€ ë¡œê·¸ì¸|ë¡œê·¸ì•„ì›ƒ|ì„¸ì…˜ ë§Œë£Œ|
|:---:|:---:|:---:|:---:|
|![signupwithGoogle](https://github.com/JOAAAAAAAAAAA/seb42_main_013_refactored/assets/116185146/19b02cad-bf3d-4181-b847-f2c46b9f3f2c)|![signinwithGoogle](https://github.com/JOAAAAAAAAAAA/seb42_main_013_refactored/assets/116185146/8d920456-2a9d-4768-a2f9-291db16f5883)|![logout](https://github.com/JOAAAAAAAAAAA/seb42_main_013_refactored/assets/116185146/8634baae-d4b6-4bad-b205-51f52ab8278b)|![á„‰á…¦á„‰á…§á†«á„†á…¡á†«á„…á…­](https://github.com/JOAAAAAAAAAAA/seb42_main_013_refactored/assets/116185146/27ec9cc7-392c-4114-ba03-0defdea4d5cb)|
|<span>`firebase`</span> `CSRFToken` `useForm` `zod` `API`|<span>`firebase`</span> `CSRFToken` `useForm` `zod` `API`|<span>`RCC`</span></br>`server action`</br>`useFormstate`|<span>`firebase`</span> `session cookie`|





|ì´ë©”ì¼ íšŒì›ê°€ì…|ì¸ì¦ ì „ ë¡œê·¸ì¸|ì¸ì¦ í›„ ë¡œê·¸ì¸|
|:---:|:---:|:---:|
|![signInwithEmail](https://github.com/JOAAAAAAAAAAA/seb42_main_013_refactored/assets/116185146/2ae46225-bcb5-4813-b3ee-15cd38d782a8)|![loginError=email-not-verified](https://github.com/JOAAAAAAAAAAA/seb42_main_013_refactored/assets/116185146/d5e8b8c5-202c-4708-928d-6ac080435597)|![emailLogin_afterVerifiing](https://github.com/JOAAAAAAAAAAA/seb42_main_013_refactored/assets/116185146/10d365f9-dc2c-4123-90e3-0935e3f7e518)|
|<span>`firebase`</span> `CSRFToken` `useForm` `zod`| `Error handling`|`Error handling`|

|ë©”ì¸í˜ì´ì§€|ê±´ê°•ê³ ë¯¼ íƒ­|íšŒì›ì •ë³´ ìˆ˜ì •|ê²€ìƒ‰|
|:---:|:---:|:---:|:---:|
|![main22](https://github.com/JOAAAAAAAAAAA/seb42_main_013_refactored/assets/116185146/4e806d03-beea-4537-bb5b-9c46f71df40f)|![main](https://github.com/JOAAAAAAAAAAA/seb42_main_013_refactored/assets/116185146/1b2785fa-f669-44bd-ae9c-06f0cff16c9c)|![userUpdate](https://github.com/JOAAAAAAAAAAA/seb42_main_013_refactored/assets/116185146/74315374-de00-404d-a671-78da6a1607cc)|![search](https://github.com/JOAAAAAAAAAAA/seb42_main_013_refactored/assets/116185146/5c56cff9-e059-4567-ab4b-6a75565513d8)|
|<span>`ParallelRoutes` `skeleton`</span>|<span>`dynamic load` `placehold` `blurDataURL` `PlacierHolder`</span>|<span>`RCC` `server action` `useOptimistic`</br>`Optimistic-UI` `.bind`</span>|<span>`RCC` `SSR`</br>`NAVER API`</span>|



|ì˜ì–‘ì œ ì¡°íšŒ|ì˜ì–‘ì œ ìƒì„±|ì˜ì–‘ì œ ìˆ˜ì •|ì˜ì–‘ì œ ì‚­ì œ|
|---|---|---|---|
|![filter sort](https://github.com/JOAAAAAAAAAAA/seb42_main_013_refactored/assets/116185146/77b84f9e-fd39-4a6b-ac77-d821000c2d92)|![create2](https://github.com/JOAAAAAAAAAAA/seb42_main_013_refactored/assets/116185146/f499402b-069d-4330-9f9c-d71801d671a9)|![updatepill](https://github.com/JOAAAAAAAAAAA/seb42_main_013_refactored/assets/116185146/eceb9420-afa5-4d9b-9e09-49438efcbe4c)|![delete](https://github.com/JOAAAAAAAAAAA/seb42_main_013_refactored/assets/116185146/d71b8180-95e0-4b89-b93b-3e9f3a88e4a1)|
|`RSC` `SSR`<img width=1300 style="opacity:0"/>|`CSRFToken API`</br>`server action`</br>`useFormstate`</br>`server-onlyForm`</br>`zod` `stateless modal`|`CSRFToken API`</br>`server action`</br>`useContext`|`server action`</br>`useOptimistic`</br>`Optimistic-UI`|


<br/>


## ğŸ” Auth ìˆœì„œë„
```mermaid
sequenceDiagram
participant User
participant App Client
participant App Server
participant Firebase Client SDK
participant Firebase Server SDK
participant OAuth Provider
User->>App Client:êµ¬ê¸€ë¡œ ë¡œê·¸ì¸í•˜ê¸° í´ë¦­
App Client->>Firebase Client SDK:SignInWithGoogle()
Firebase Client SDK->>App Client:Reirect to Sign in page
App Client->>OAuth Provider:[POST]Email & Password
OAuth Provider-->>Firebase Client SDK:User Credential
Firebase Client SDK-->>App Client:ID Token
App Client->>App Server: [POST]/auth/sessionlogin ID Token
App Server->>App Server:Csrf verified !
App Server->>Firebase Admin SDK:VerifyIdToken(ID Token)
Firebase Admin SDK-->>App Server:OK
App Server->>Firebase Admin SDK:createSessionCookie()
Firebase Admin SDK-->>App Server:SessionCookie
App Server-->>App Client:SessionCookie
App Client->>Firebase Client SDK:Sign out()
Firebase Client SDK-xFirebase Client SDK:Sign out()
```

## :pencil2: ì»¤ë°‹ & ì½”ë“œ ì»¨ë²¤ì…˜
```
[Feat] ìƒˆë¡œìš´ ê¸°ëŠ¥ ì¶”ê°€ 
[Fix] ë²„ê·¸ ìˆ˜ì • 
[Design] CSS ë“± ì‚¬ìš©ì UI ë””ìì¸ ë³€ê²½ 
[Style] ì½”ë“œ ìˆ˜ì •ì€ ì—†ì§€ë§Œ, ì½”ë“œ í¬ë§· ë³€ê²½ì‹œ ì‘ì„± 
[Refactor] ì½”ë“œ ë¦¬íŒ©í† ë§ 
[Comment] í•„ìš”í•œ ì£¼ì„ ì¶”ê°€ ë° ë³€ê²½ 
[Docs] ë¬¸ì„œ ìˆ˜ì • 
[Test] í…ŒìŠ¤íŠ¸ ë° í…ŒìŠ¤íŠ¸ ë¦¬íŒ©í† ë§ ì½”ë“œ ì‘ì„±(í”„ë¡œë•ì…˜ ì½”ë“œ ë³€ê²½ X) 
[Chore] ë¹Œë“œ ì—…ë¬´ ìˆ˜ì •, íŒ¨í‚¤ì§€ ë§¤ë‹ˆì € ì„¤ì • ë° ìˆ˜ì •(í”„ë¡œë•ì…˜ ì½”ë“œ ë³€ê²½ X) 
[Rename] íŒŒì¼ ë° í´ë”ë¥¼ ìˆ˜ì •í•˜ëŠ” ì‘ì—… 
[Remove] íŒŒì¼ ë° í´ë”ë¥¼ ì‚­ì œí•˜ëŠ” ì‘ì—… 
[Init] ë¸Œëœì¹˜ ì´ˆê¸°í™” ë° ì´ˆê¸°ì…‹íŒ… ê´€ë ¨ëœ ì„¤ì •ì¼ ê²½ìš°
```

